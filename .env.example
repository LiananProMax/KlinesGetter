# .env.example
# 这是示例配置文件，复制为.env并根据需要修改

# --- API配置 ---
# 币安API Key和Secret（用于需要认证的API，如交易和仓位查询）
# 如果您只需要公共数据（如K线），可以留空。
API_KEY="替换为您的API密钥"
API_SECRET="替换为您的API密钥"
# 是否使用测试网 (True/False)
IS_TESTNET="True" # "True" 或 "False"

# 币安期货API基础URL
# 现货通常不需要单独配置基础URL，Client会自动处理
API_BASE_URL_FUTURES="https://fapi.binance.com"

# API调用重试配置 (用于策略中的API调用)
MAX_API_RETRIES="3"
API_RETRY_DELAY="5" # 秒

# --- 交易对设置 ---
# 交易符号，例如：BTCUSDT, ETHUSDT
SYMBOL="BTCUSDT"

# --- 运行模式 ---
# 决定基础和聚合间隔。也间接影响策略使用的市场类型（期货/现货）
# "TEST": 基础 "1m" -> 聚合 "3m" (通常用于期货测试网)
# "PRODUCTION": 基础 "1h" -> 聚合 "3h" (通常用于期货主网)
# 如果需要现货交易，可能需要额外的模式或配置项
OPERATING_MODE="TEST" # "TEST" 或 "PRODUCTION"

# --- K线设置 ---
# 初始获取和显示的聚合K线数量
HISTORICAL_AGG_CANDLES_TO_DISPLAY="50"
# 币安API每个请求允许的最大K线数量
MAX_KLINE_LIMIT_PER_REQUEST="1000"

# 策略模块内部维护的基础K线历史长度 (用于指标计算)
# 应大于所有指标的最大lookback + 缓冲区
MAX_DF_LEN_STRATEGY="1000"

# --- 策略参数 (Improved MinhPhan EMA VWAP RSI) ---

# --- EMA Settings ---
# Length for the shorter Exponential Moving Average. Value must be positive.
SHORT_EMA_LEN="9"
# Length for the longer Exponential Moving Average. Value must be positive and greater than SHORT_EMA_LEN.
LONG_EMA_LEN="21"

# --- RSI Settings ---
# Length for the Relative Strength Index calculation. Value must be positive.
RSI_LEN="14"
# RSI level considered Overbought. Value must be between 0-100.
RSI_OVERBOUGHT="70.0"
# RSI level considered Oversold. Value must be between 0-100 and less than RSI_OVERBOUGHT.
RSI_OVERSOLD="30.0"

# --- VWAP Settings ---
# Reset period for VWAP calculation: 'D' (Daily), 'W' (Weekly), 'M' (Monthly).
VWAP_PERIOD="D"

# --- Stop Loss / Take Profit Settings ---
# Enable or disable the Stop Loss / Take Profit logic managed by the bot.
# Set to "True" to use SL/TP orders managed by the bot.
# Set to "False" to rely only on strategy signals (like RSI exit) for closing position via market order.
USE_SLTP="True" # "True" 或 "False"

# Stop Loss distance from entry price (in 'ticks').
# A 'tick' is the minimum price movement for the symbol (fetched from Binance).
# Value must be non-negative. 0 disables SL if USE_SLTP is True.
STOP_LOSS_TICKS="100"

# Take Profit distance from entry price (in 'ticks').
# Value must be non-negative. 0 disables TP if USE_SLTP is True.
TAKE_PROFIT_TICKS="200"

# --- Order Management Parameters (由策略内部使用) ---
# Percentage of available balance/equity to use for each trade entry.
# For FUTURES, percentage of available USDT balance (in cross margin).
# For SPOT BUY, percentage of available SPOT_QUOTE_ASSET balance.
# For SPOT SELL, percentage of available base asset balance (when closing position).
# Example: 0.10 means 10%. Value must be between 0.0 (exclusive) and 1.0 (inclusive).
QTY_PERCENT="0.90"

# Delay (in seconds) between polling attempts when waiting for an order to fill or confirm status.
# 注意: 策略模块为了简化保留了阻塞式polling，生产环境不推荐。
ORDER_STATUS_CHECK_DELAY="2"

# Delay (in seconds) between attempts to verify position closure after sending a close order.
POSITION_CLOSE_VERIFY_DELAY="3"

# Maximum number of attempts to verify position closure.
POSITION_CLOSE_VERIFY_ATTEMPTS="5"

# Spot Quote Asset (如果需要 SPOT 交易)
# The primary quote asset for spot trading (e.g., USDT, BUSD).
# Used to calculate available balance for SPOT BUY orders.
# Only relevant if MARKET_TYPE is SPOT.
# SPOT_QUOTE_ASSET="USDT"


# --- 日志配置 ---
# 应用程序的日志级别。
# 可能的值: "DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"
LOG_LEVEL="INFO"


# --- 数据存储配置 ---
# 选择数据存储类型："memory"(内存) 或 "database"(数据库)
DATA_STORE_TYPE="memory" # "memory" 或 "database"
# 如果使用通用连接字符串
# DB_CONNECTION_STRING="替换为您的数据库连接字符串" 

# --- PostgreSQL数据库配置 (如果 DATA_STORE_TYPE="database") ---
DB_HOST="localhost"
DB_PORT="5432"
DB_NAME="binance_data"
DB_USER="your_db_user"
DB_PASSWORD="your_db_password"
